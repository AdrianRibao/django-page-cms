sudo: false

language: python

python:
  - "2.7"
  - "3.4"
  - "3.5"

env:
  - REQUIREMENTS=min
  - REQUIREMENTS=pypi
  - REQUIREMENTS=dev

before_install:
  - "pip install coveralls Requirements-Builder
  - "requirements-builder --level=min setup.py > requirements-min.txt"
  - "requirements-builder --level=pypi setup.py > requirements-pypi.txt"
  - "requirements-builder --level=dev --req=requirements-devel.txt setup.py > requirements-dev.txt"

install:
  - "pip install -r requirements-${REQUIREMENTS}.txt"
  - "pip install -e .[tests]"

script:
  - "coverage run --source=pages pages/test_runner.py"

after_success:
  - "coveralls"
